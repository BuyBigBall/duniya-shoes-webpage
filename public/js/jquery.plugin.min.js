;(function($,f){'use strict';var g='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';$.fn.imagesLoaded=function(d){var e=this,deferred=$.isFunction($.Deferred)?$.Deferred():0,hasNotify=$.isFunction(deferred.notify),$images=e.find('img').add(e.filter('img')),loaded=[],proper=[],broken=[];if($.isPlainObject(d)){$.each(d,function(a,b){if(a==='callback'){d=b}else if(deferred){deferred[a](b)}})}function doneLoading(){var a=$(proper),$broken=$(broken);if(deferred){if(broken.length){deferred.reject($images,a,$broken)}else{deferred.resolve($images)}}if($.isFunction(d)){d.call(e,$images,a,$broken)}}function imgLoadedHandler(a){imgLoaded(a.target,a.type==='error')}function imgLoaded(a,b){if(a.src===g||$.inArray(a,loaded)!==-1){return}loaded.push(a);if(b){broken.push(a)}else{proper.push(a)}$.data(a,'imagesLoaded',{isBroken:b,src:a.src});if(hasNotify){deferred.notifyWith($(a),[b,$images,$(proper),$(broken)])}if($images.length===loaded.length){setTimeout(doneLoading);$images.unbind('.imagesLoaded',imgLoadedHandler)}}if(!$images.length){doneLoading()}else{$images.bind('load.imagesLoaded error.imagesLoaded',imgLoadedHandler).each(function(i,a){var b=a.src;var c=$.data(a,'imagesLoaded');if(c&&c.src===b){imgLoaded(a,c.isBroken);return}if(a.complete&&a.naturalWidth!==f){imgLoaded(a,a.naturalWidth===0||a.naturalHeight===0);return}if(a.readyState||a.complete){a.src=g;a.src=b}})}return deferred?deferred.promise(e):e}})(jQuery);(function($){$.fn.extend({reflect:function(c){c=$.extend({height:1/3,opacity:0.5},c);return this.unreflect().each(function(){var b=this;if(/^img$/i.test(b.tagName)){function doReflect(){var a=b.width,imageHeight=b.height,reflection,reflectionHeight,wrapper,context,gradient;reflectionHeight=Math.floor((c.height>1)?Math.min(imageHeight,c.height):imageHeight*c.height);reflection=$("<canvas />")[0];if(reflection.getContext){context=reflection.getContext("2d");try{$(reflection).attr({width:a,height:reflectionHeight});context.save();context.translate(0,imageHeight-1);context.scale(1,-1);context.drawImage(b,0,0,a,imageHeight);context.restore();context.globalCompositeOperation="destination-out";gradient=context.createLinearGradient(0,0,0,reflectionHeight);gradient.addColorStop(0,"rgba(255, 255, 255, "+(1-c.opacity)+")");gradient.addColorStop(1,"rgba(255, 255, 255, 1.0)");context.fillStyle=gradient;context.rect(0,0,a,reflectionHeight);context.fill()}catch(e){return}}else{if(!$.browser.msie)return;reflection=$("<img />").attr("src",b.src).css({width:a,height:imageHeight,marginBottom:reflectionHeight-imageHeight,filter:"FlipV progid:DXImageTransform.Microsoft.Alpha(Opacity="+(c.opacity*100)+", FinishOpacity=0, Style=1, StartX=0, StartY=0, FinishX=0, FinishY="+(reflectionHeight/imageHeight*100)+")"})[0]}$(reflection).css({display:"block",border:0});wrapper=$(/^a$/i.test(b.parentNode.tagName)?"<span />":"<div />").insertAfter(b).append([b,reflection])[0];wrapper.className=b.className;$.data(b,"reflected",wrapper.style.cssText=b.style.cssText);$(wrapper).css({width:a,height:imageHeight+reflectionHeight,overflow:"hidden"});b.style.cssText="display: block; border: 0px";b.className="reflected"}if(b.complete)doReflect();else $(b).load(doReflect)}})},unreflect:function(){return this.unbind("load").each(function(){var a=this,reflected=$.data(this,"reflected"),wrapper;if(reflected!==undefined){wrapper=a.parentNode;a.className=wrapper.className;a.style.cssText=reflected;$.removeData(a,"reflected");wrapper.parentNode.replaceChild(a,wrapper)}})}})})(jQuery);(function($,h){var j='selectbox',FALSE=false,TRUE=true;function Selectbox(){this._state=[];this._defaults={classHolder:"sbHolder",classHolderDisabled:"sbHolderDisabled",classSelector:"sbSelector",classOptions:"sbOptions",classGroup:"sbGroup",classSub:"sbSub",classDisabled:"sbDisabled",classToggleOpen:"sbToggleOpen",classToggle:"sbToggle",classFocus:"sbFocus",speed:200,effect:"slide",onChange:null,onOpen:null,onClose:null}}$.extend(Selectbox.prototype,{_isOpenSelectbox:function(a){if(!a){return FALSE}var b=this._getInst(a);return b.isOpen},_isDisabledSelectbox:function(a){if(!a){return FALSE}var b=this._getInst(a);return b.isDisabled},_attachSelectbox:function(d,f){if(this._getInst(d)){return FALSE}var g=$(d),self=this,inst=self._newInst(g),sbHolder,sbSelector,sbToggle,sbOptions,s=FALSE,optGroup=g.find("optgroup"),opts=g.find("option"),olen=opts.length;g.attr("sb",inst.uid);$.extend(inst.settings,self._defaults,f);self._state[inst.uid]=FALSE;g.hide();function closeOthers(){var a,sel,uid=this.attr("id").split("_")[1];for(a in self._state){if(a!==uid){if(self._state.hasOwnProperty(a)){sel=$("select[sb='"+a+"']")[0];if(sel){self._closeSelectbox(sel)}}}}}sbHolder=$("<div>",{"id":"sbHolder_"+inst.uid,"class":inst.settings.classHolder,"tabindex":g.attr("tabindex")});sbSelector=$("<a>",{"id":"sbSelector_"+inst.uid,"href":"#","class":inst.settings.classSelector,"click":function(e){e.preventDefault();closeOthers.apply($(this),[]);var a=$(this).attr("id").split("_")[1];if(self._state[a]){self._closeSelectbox(d)}else{self._openSelectbox(d)}}});sbToggle=$("<a>",{"id":"sbToggle_"+inst.uid,"href":"#","class":inst.settings.classToggle,"click":function(e){e.preventDefault();closeOthers.apply($(this),[]);var a=$(this).attr("id").split("_")[1];if(self._state[a]){self._closeSelectbox(d)}else{self._openSelectbox(d)}}});sbToggle.appendTo(sbHolder);sbOptions=$("<ul>",{"id":"sbOptions_"+inst.uid,"class":inst.settings.classOptions,"css":{"display":"none"}});g.children().each(function(i){var a=$(this),li,config={};if(a.is("option")){getOptions(a)}else if(a.is("optgroup")){li=$("<li>");$("<span>",{"text":a.attr("label")}).addClass(inst.settings.classGroup).appendTo(li);li.appendTo(sbOptions);if(a.is(":disabled")){config.disabled=true}config.sub=true;getOptions(a.find("option"),config)}});function getOptions(){var c=arguments[1]&&arguments[1].sub?true:false,disabled=arguments[1]&&arguments[1].disabled?true:false;arguments[0].each(function(i){var b=$(this),li=$("<li>"),child;if(b.is(":selected")){sbSelector.text(b.text());s=TRUE}if(i===olen-1){li.addClass("last")}if(!b.is(":disabled")&&!disabled){child=$("<a>",{"href":"#"+b.val(),"rel":b.val()}).text(b.text()).bind("click.sb",function(e){if(e&&e.preventDefault){e.preventDefault()}var t=sbToggle,$this=$(this),uid=t.attr("id").split("_")[1];self._changeSelectbox(d,$this.attr("rel"),$this.text());self._closeSelectbox(d)}).bind("mouseover.sb",function(){var a=$(this);a.parent().siblings().find("a").removeClass(inst.settings.classFocus);a.addClass(inst.settings.classFocus)}).bind("mouseout.sb",function(){$(this).removeClass(inst.settings.classFocus)});if(c){child.addClass(inst.settings.classSub)}if(b.is(":selected")){child.addClass(inst.settings.classFocus)}child.appendTo(li)}else{child=$("<span>",{"text":b.text()}).addClass(inst.settings.classDisabled);if(c){child.addClass(inst.settings.classSub)}child.appendTo(li)}li.appendTo(sbOptions)})}if(!s){sbSelector.text(opts.first().text())}$.data(d,j,inst);sbHolder.data("uid",inst.uid).bind("keydown.sb",function(e){var a=e.charCode?e.charCode:e.keyCode?e.keyCode:0,$this=$(this),uid=$this.data("uid"),c=$this.siblings("select[sb='"+uid+"']").data(j),trgt=$this.siblings(["select[sb='",uid,"']"].join("")).get(0),$f=$this.find("ul").find("a."+c.settings.classFocus);switch(a){case 37:case 38:if($f.length>0){var b;$("a",$this).removeClass(c.settings.classFocus);b=$f.parent().prevAll("li:has(a)").eq(0).find("a");if(b.length>0){b.addClass(c.settings.classFocus).focus();$("#sbSelector_"+uid).text(b.text())}}break;case 39:case 40:var b;$("a",$this).removeClass(c.settings.classFocus);if($f.length>0){b=$f.parent().nextAll("li:has(a)").eq(0).find("a")}else{b=$this.find("ul").find("a").eq(0)}if(b.length>0){b.addClass(c.settings.classFocus).focus();$("#sbSelector_"+uid).text(b.text())}break;case 13:if($f.length>0){self._changeSelectbox(trgt,$f.attr("rel"),$f.text())}self._closeSelectbox(trgt);break;case 9:if(trgt){var c=self._getInst(trgt);if(c){if($f.length>0){self._changeSelectbox(trgt,$f.attr("rel"),$f.text())}self._closeSelectbox(trgt)}}var i=parseInt($this.attr("tabindex"),10);if(!e.shiftKey){i++}else{i--}$("*[tabindex='"+i+"']").focus();break;case 27:self._closeSelectbox(trgt);break}e.stopPropagation();return false}).delegate("a","mouseover",function(e){$(this).addClass(inst.settings.classFocus)}).delegate("a","mouseout",function(e){$(this).removeClass(inst.settings.classFocus)});sbSelector.appendTo(sbHolder);sbOptions.appendTo(sbHolder);sbHolder.insertAfter(g);$("html").live('mousedown',function(e){e.stopPropagation();$("select").selectbox('close')});$([".",inst.settings.classHolder,", .",inst.settings.classSelector].join("")).mousedown(function(e){e.stopPropagation()})},_detachSelectbox:function(a){var b=this._getInst(a);if(!b){return FALSE}$("#sbHolder_"+b.uid).remove();$.data(a,j,null);$(a).show()},_changeSelectbox:function(a,b,c){var d,inst=this._getInst(a);if(inst){d=this._get(inst,'onChange');$("#sbSelector_"+inst.uid).text(c)}b=b.replace(/\'/g,"\\'");$(a).find("option[value='"+b+"']").attr("selected",TRUE);if(inst&&d){d.apply((inst.input?inst.input[0]:null),[b,inst])}else if(inst&&inst.input){inst.input.trigger('change')}},_enableSelectbox:function(a){var b=this._getInst(a);if(!b||!b.isDisabled){return FALSE}$("#sbHolder_"+b.uid).removeClass(b.settings.classHolderDisabled);b.isDisabled=FALSE;$.data(a,j,b)},_disableSelectbox:function(a){var b=this._getInst(a);if(!b||b.isDisabled){return FALSE}$("#sbHolder_"+b.uid).addClass(b.settings.classHolderDisabled);b.isDisabled=TRUE;$.data(a,j,b)},_optionSelectbox:function(a,b,c){var d=this._getInst(a);if(!d){return FALSE}d[b]=c;$.data(a,j,d)},_openSelectbox:function(a){var b=this._getInst(a);if(!b||b.isOpen||b.isDisabled){return}var c=$("#sbOptions_"+b.uid),viewportHeight=parseInt($(window).height(),10),offset=$("#sbHolder_"+b.uid).offset(),scrollTop=$(window).scrollTop(),height=c.prev().height(),diff=viewportHeight-(offset.top-scrollTop)-height/2,onOpen=this._get(b,'onOpen'),heightBox=$('#content-layout').height()-offset.top-height-10;console.log(offset.top);console.log(height);console.log(heightBox);c.css({"top":height+"px","maxHeight":(heightBox>250?'250':heightBox)+"px"});b.settings.effect==="fade"?c.fadeIn(b.settings.speed):c.slideDown(b.settings.speed);$("#sbToggle_"+b.uid).addClass(b.settings.classToggleOpen);this._state[b.uid]=TRUE;b.isOpen=TRUE;if(onOpen){onOpen.apply((b.input?b.input[0]:null),[b])}$.data(a,j,b)},_closeSelectbox:function(a){var b=this._getInst(a);if(!b||!b.isOpen){return}var c=this._get(b,'onClose');b.settings.effect==="fade"?$("#sbOptions_"+b.uid).fadeOut(b.settings.speed):$("#sbOptions_"+b.uid).slideUp(b.settings.speed);$("#sbToggle_"+b.uid).removeClass(b.settings.classToggleOpen);this._state[b.uid]=FALSE;b.isOpen=FALSE;if(c){c.apply((b.input?b.input[0]:null),[b])}$.data(a,j,b)},_newInst:function(a){var b=a[0].id.replace(/([^A-Za-z0-9_-])/g,'\\\\$1');return{id:b,input:a,uid:Math.floor(Math.random()*99999999),isOpen:FALSE,isDisabled:FALSE,settings:{}}},_getInst:function(a){try{return $.data(a,j)}catch(err){throw'Missing instance data for this selectbox';}},_get:function(a,b){return a.settings[b]!==h?a.settings[b]:this._defaults[b]}});$.fn.selectbox=function(a){var b=Array.prototype.slice.call(arguments,1);if(typeof a=='string'&&a=='isDisabled'){return $.selectbox['_'+a+'Selectbox'].apply($.selectbox,[this[0]].concat(b))}if(a=='option'&&arguments.length==2&&typeof arguments[1]=='string'){return $.selectbox['_'+a+'Selectbox'].apply($.selectbox,[this[0]].concat(b))}return this.each(function(){typeof a=='string'?$.selectbox['_'+a+'Selectbox'].apply($.selectbox,[this].concat(b)):$.selectbox._attachSelectbox(this,a)})};$.selectbox=new Selectbox();$.selectbox.version="0.2"})(jQuery);(function($){var l=false;var m=null;$.fn.glow=function(h){var i=false;var j=true;var k;if(typeof(h.radius)==="undefined"){h=$.extend({radius:"2px"},h)}if(typeof(h.originalPos)!=="undefined"){m=h.originalPos}if(typeof(h.color)==="undefined"){h=$.extend({color:"white"},h)}if(typeof(h.oneLoop)!=="undefined"){h=$.extend({oneLoop:false},h)}if(typeof(h.disable)!=="undefined"){i=true;j=false}if(typeof(h.speedAnim)==="undefined"){h=$.extend({speedAnim:1.9},h)}if(typeof(h.active)!=="undefined"){h=$.extend({active:false},h)}$(this).each(function(a){if($.browser.webkit){var b=document.createTextNode('@-webkit-keyframes glow-anim {'+'0%{ -webkit-filter: drop-shadow(0); }'+'20%{ -webkit-filter: drop-shadow(0px 0px '+h.radius+'px '+h.color+'); }'+'50%{ -webkit-filter: drop-shadow(0); }'+'80%{ -webkit-filter: drop-shadow(0px 0px '+h.radius+'px '+h.color+'); }'+'100%{ -webkit-filter: drop-shadow(0); }'+'}');if($("style:contains('@-webkit-keyframes')").length<1){var c=document.createElement('style');c.type='text/css';c.appendChild(b);document.getElementsByTagName("head")[0].appendChild(c)}else{$("style:contains('@-webkit-keyframes')").html(b)}if(!i){var d="glow-anim "+h.speedAnim+"s"+" ease-in-out";if(h.oneLoop){$(this).css({"-webkit-animation":d,"-webkit-animation-direction":"alternate","-webkit-animation-iteration-count":1})}else{$(this).css({"-webkit-animation":d,"-webkit-animation-direction":"alternate","-webkit-animation-iteration-count":"infinite"})}}else{$(this).css({"-webkit-animation":"","-webkit-animation-direction":"","-webkit-animation-iteration-count":""})}}else if($.browser.mozilla){if(!i){var e=$(this).attr("id");var f;var g;if(h.oneLoop){f='<animate attributeName="flood-color" values="transparent;#CCCCCC;white;#CCCCCC;transparent;transparent;#CCCCCC;white;#CCCCCC;transparent;transparent;" dur="'+(h.speedAnim+2)+"s"+'" repeatCount="1"/>'}else{f='<animate attributeName="flood-color" values="transparent;#CCCCCC;white;#CCCCCC;transparent;transparent;#CCCCCC;white;#CCCCCC;transparent;transparent;" dur="'+(h.speedAnim+2)+"s"+'" repeatCount="indefinite"/>'}if(h.active){if(!$('body').children().hasClass('svg-'+e)){g='svg-'+e;svgMozilla(g,e,h.radius,f)}}else{g='svgImg';svgMozilla(g,e,h.radius,f)}$(this).css({'filter':'url("#glow2'+e+'")'})}else{$(this).css({'filter':""});$('body').find('.svgImg').remove()}}});function svgMozilla(a,b,c,d){$('body').append($('<svg class="'+a+'" height="0" xmlns="http://www.w3.org/2000/svg">'+'<filter id="glow2'+b+'">'+'<feGaussianBlur in="SourceAlpha" stdDeviation="'+c+'"/>'+'<feOffset dx="0" dy="0" result="offsetblur"/>'+'<feFlood flood-color="transparent">'+d+'</feFlood>'+'<feComposite in2="offsetblur" operator="in"/>'+'<feMerge>'+'<feMergeNode/>'+'<feMergeNode in="SourceGraphic"/>'+'</feMerge>'+'</filter>'+'</svg>'))}};$.fn.glow.enabled=true})(jQuery);